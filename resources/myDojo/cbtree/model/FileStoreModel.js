//>>built
define("cbtree/model/FileStoreModel",["module","dojo/_base/declare","dojo/when","./_base/CheckedStoreModel","./_base/Parents","../errors/createError!../errors/CBTErrors.json"],function(_1,_2,_3,_4,_5,_6){"use strict";var _7=_6(_1.id);var _8=_2([_4],{constructor:function(_9){var _a=this.store;var _b=this;if(_a){if(_a.defaultProperties&&typeof _a.defaultProperties=="object"){_a.defaultProperties[this.checkedAttr]=this.checkedState;}}},getChildren:function(_c,_d,_e){this._getChildren(_c,function(_f,id){return this.store.getChildren(_f);},_d,_e);},mayHaveChildren:function(_10){return _10&&!!_10.directory;},newItem:function(_11,_12,_13,_14){throw new _7("InvalidAccess","newItem","Operation not allowed on a FileObjectStore");},pasteItem:function(_15,_16,_17){if(_17.directory&&(_17.path!=_16.path)){var _18=new _5(_15,this.parentAttr);var _19=this.getIdentity(_16);var _1a=this;var _1b=_17.path+"/"+_15.name;_3(this.store.rename(_15,_1b),function(){if(!_1a.store.evented){_1a._childrenChanged([_16,_17]);}});}},_onDeleteItem:function(_1c){var id=this.getIdentity(_1c);var _1d=this;_3(this.store.get(id,true),function(_1e){if(!_1e){delete _1d._objectCache[id];}},function(err){delete _1d._objectCache[id];});_1d._deleteCacheEntry(id);_1d.onDelete(_1c);this.getParents(_1c).then(function(_1f){_1d._childrenChanged(_1f);});},toString:function(){return "[object FileStoreModel]";}});return _8;});